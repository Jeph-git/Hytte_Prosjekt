{% extends 'base.html' %}

{% block content %}


  <div class="container">
    <form class="m-5" method="POST" onsubmit="return validateForm()">
      {% for type, message in get_flashed_messages(with_categories=true) %}
      <div class="alert {% if type == 'success' %}alert-success{% elif type == 'danger' %}alert-danger{% endif %} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {% endfor %}
      
      <div class="row">
        <div class="col-md-6">
          <div class="form-group">
            {{ form.hidden_tag() }}
            {{form.ankomst.label(class="form-label font-weight-bold")}}
            {{ form.ankomst(class="form-control") }}
          </div>
        </div>
        <div class="col-md-6">
          <div class="form-group">
            {{form.avreise.label(class="form-label font-weight-bold")}}
            {{ form.avreise(class="form-control") }}
          </div>
        </div>
      </div>
      
      <div class="form-group">
        {{ form.melding(class="form-control", rows="4", id="meldingId") }}
      </div>

      {{ form.submit(class="btn btn-outline-primary") }}
    </form>
  </div>

  <script>
    function validateForm() {
      var textareaValue = document.getElementById("meldingId").value;
        
      if (textareaValue.trim() === '') {
        return confirm("Du har ikke skrevet melding. Bestille for det om?");
      }
        
      return true; // Allow form submission
    }
  </script>
{% endblock %}
